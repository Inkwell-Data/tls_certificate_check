# tls\_certificate\_validation

[![](https://img.shields.io/hexpm/v/tls_certificate_validation.svg?style=flat)](https://hex.pm/packages/tls_certificate_validation)
[![](https://travis-ci.org/g-andrade/tls_certificate_validation.png?branch=master)](https://travis-ci.org/g-andrade/tls_certificate_validation)
[![](https://circleci.com/gh/g-andrade/tls_certificate_validation/tree/master.svg?style=svg)](https://circleci.com/gh/g-andrade/tls_certificate_validation/tree/master)

`tls_certificate_validation` is a library for Erlang/OTP and Elixir that
provides TLS/SSL [connect
options](https://erlang.org/doc/man/ssl.html#type-tls_client_option)
required for negotiating connections whose security can be traced back
to a [trusted certificate
authority](https://www.mozilla.org/en-US/about/governance/policies/security-group/certs/included/).

It wraps [certifi](https://github.com/certifi/erlang-certifi) and
[ssl\_verify\_fun](https://github.com/deadtrickster/ssl_verify_fun.erl)
together with the boilerplate code required for validating [disoderly
certificate chains](https://github.com/elixir-mint/mint/issues/95).

### Usage

#### Erlang

##### 1\. Import as a dependency

rebar.config

``` erlang
{deps,
 [% [...]
  {tls_certificate_validation, "1.0.0"}
  ]}.
```

your\_application.app.src:

``` erlang
  {applications,
   [kernel,
    stdlib,
    % [...]
    tls_certificate_validation
   ]}
```

##### 2\. Generate and use connect options in your code

When using `httpc`

``` erlang
URL = "https://www.example.com/",
TlsOpts = tls_certificate_validation:connect_opts(URL),
HttpOpts = [{ssl, TlsOpts}],
httpc:request(get, {URL, []}, HttpOpts, [])
```

When using `ssl`:

``` erlang
Host = "example.com",
Options = tls_certificate_validation:connect_opts(Host),
ssl:connect(Host, 443, Options, 5000)
```

#### Elixir

##### 1\. Import as a dependency

mix.exs

``` elixir
  defp deps do
    [ 
      # [...]
      {:tls_certificate_validation, "1.0.0"}
    ]
  end
```

##### 2\. Generate connect options in your code

When using `ssl`:

``` erlang
Host = "example.com",
Options = tls_certificate_validation:connect_opts(Host),
ssl:connect(Host, 443, Options, 5000)
```

-----

*Generated by EDoc*
